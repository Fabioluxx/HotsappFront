<nb-auth-block>
  <h2 class="title">Redefinir Senha</h2>
  <small class="form-text sub-title">Preencha o endereço de email e vamos lhe enviar um link para redefinir sua senha</small>
  <form (ngSubmit)="requestPass()" #requestPassForm="ngForm">
    <div *ngIf="errors && errors.length > 0 && !submitted" class="alert alert-danger" role="alert">
      <div><strong>Ops!</strong></div>
      <div *ngFor="let error of errors">{{ error }}</div>
    </div>
    <div *ngIf="messages && messages.length > 0 && !submitted" class="alert alert-success" role="alert">
      <div><strong>Sucesso!</strong></div>
      <div *ngFor="let message of messages">{{ message }}</div>
    </div>
    <div class="form-group">
      <label for="input-email" class="sr-only">Enter your email address</label>
      <input name="email" [(ngModel)]="user.email" id="input-email" #email="ngModel"
             class="form-control" placeholder="Endereço de email" pattern=".+@.+\..+"
             [class.form-control-danger]="email.invalid && email.touched"
             [required]="validation.email.required"
             autofocus>
      <small class="form-text error" *ngIf="email.invalid && email.touched && email.errors?.required">
        É necessário preencher o endereço de email!
      </small>
      <small class="form-text error"
             *ngIf="email.invalid && email.touched && email.errors?.pattern">
        Endereço de email inválido!
      </small>
    </div>
    <button [disabled]="submitted || !requestPassForm.form.valid" class="btn btn-hero-success btn-block"
            [class.btn-pulse]="submitted">
      Redefinir senha
    </button>
  </form>
  <div class="links col-sm-12">
    <small class="form-text">
      Já possui uma conta? <a routerLink="../login"><strong>Fazer login</strong></a>
    </small>
    <small class="form-text">
      <a routerLink="../register"><strong>Cadastre-se</strong></a>
    </small>
  </div>
</nb-auth-block>